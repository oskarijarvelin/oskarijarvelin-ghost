{"version":3,"sources":["embed.js","cards/audio.js","cards/gallery.js","cards/toggle.js","cards/video.js"],"names":["frames","document","getElementsByTagName","i","length","getAttribute","includes","closest","classList","add","audioCardElements","querySelectorAll","let","audioElementContainer","audioPlayerContainer","querySelector","playIconContainer","pauseIconContainer","seekSlider","playbackRateContainer","muteIconContainer","unmuteIconContainer","volumeSlider","audio","durationContainer","currentTimeContainer","playbackRates","rate","label","raf","currentPlaybackRateIdx","whilePlaying","value","Math","floor","currentTime","textContent","calculateTime","style","setProperty","max","requestAnimationFrame","showRangeProgress","rangeInput","minutes","secs","seconds","displayDuration","duration","setSliderMax","displayBufferedAmount","bufferedAmount","buffered","end","readyState","addEventListener","remove","play","pause","cancelAnimationFrame","muted","nextPlaybackRate","playbackRate","e","target","paused","volume","handleAudioPlayer","images","forEach","image","container","width","attributes","height","flex","toggleHeadingElements","getElementsByClassName","toggleFn","event","targetElement","parentElement","setAttribute","videoCardElements","videoElementContainer","videoPlayer","videoPlayerContainer","videoEl","largePlayIcon","videoOverlay","loop","autoplay","onmouseover","onmouseleave","ended","handleOnPause","handleOnPlay","onplay","stopPropagation","handleVideoPlayer"],"mappings":"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","file":"theme.min.js","sourcesContent":["var i, frames;\r\nframes = document.getElementsByTagName(\"iframe\");\r\nfor (i = 0; i < frames.length; ++i) {\r\n    if (frames[i].getAttribute(\"src\").includes('youtu')) {\r\n        frames[i].closest('.kg-embed-card').classList.add('kg-embed-youtube-card');\r\n    }\r\n}","(function() {\r\n    const handleAudioPlayer = function (audioElementContainer) {\r\n        const audioPlayerContainer = audioElementContainer.querySelector('.kg-audio-player-container');\r\n        const playIconContainer = audioElementContainer.querySelector('.kg-audio-play-icon');\r\n        const pauseIconContainer = audioElementContainer.querySelector('.kg-audio-pause-icon');\r\n        const seekSlider = audioElementContainer.querySelector('.kg-audio-seek-slider');\r\n        const playbackRateContainer = audioElementContainer.querySelector('.kg-audio-playback-rate');\r\n        const muteIconContainer = audioElementContainer.querySelector('.kg-audio-mute-icon');\r\n        const unmuteIconContainer = audioElementContainer.querySelector('.kg-audio-unmute-icon');\r\n        const volumeSlider = audioElementContainer.querySelector('.kg-audio-volume-slider');\r\n        const audio = audioElementContainer.querySelector('audio');\r\n        const durationContainer = audioElementContainer.querySelector('.kg-audio-duration');\r\n        const currentTimeContainer = audioElementContainer.querySelector('.kg-audio-current-time');\r\n        let playbackRates = [{\r\n            rate: 0.75,\r\n            label: '0.7×'\r\n        }, {\r\n            rate: 1.0,\r\n            label: '1×'\r\n        }, {\r\n            rate: 1.25,\r\n            label: '1.2×'\r\n        }, {\r\n            rate: 1.75,\r\n            label: '1.7×'\r\n        }, {\r\n            rate: 2.0,\r\n            label: '2×'\r\n        }];\r\n\r\n        let raf = null;\r\n        let currentPlaybackRateIdx = 1;\r\n\r\n        const whilePlaying = () => {\r\n            seekSlider.value = Math.floor(audio.currentTime);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            audioPlayerContainer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const showRangeProgress = (rangeInput) => {\r\n            if (rangeInput === seekSlider) {\r\n                audioPlayerContainer.style.setProperty('--seek-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n            else {\r\n                audioPlayerContainer.style.setProperty('--volume-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n        }\r\n\r\n        const calculateTime = (secs) => {\r\n            const minutes = Math.floor(secs / 60);\r\n            const seconds = Math.floor(secs % 60);\r\n            const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n            return `${minutes}:${returnedSeconds}`;\r\n        }\r\n\r\n        const displayDuration = () => {\r\n            durationContainer.textContent = calculateTime(audio.duration);\r\n        }\r\n\r\n        const setSliderMax = () => {\r\n            seekSlider.max = Math.floor(audio.duration);\r\n        }\r\n\r\n        const displayBufferedAmount = () => {\r\n            if (audio.buffered.length > 0) {\r\n                const bufferedAmount = Math.floor(audio.buffered.end(audio.buffered.length - 1));\r\n                audioPlayerContainer.style.setProperty('--buffered-width', `${(bufferedAmount / seekSlider.max) * 100}%`);\r\n            }\r\n        }\r\n\r\n        if (audio.readyState > 0) {\r\n            displayDuration();\r\n            setSliderMax();\r\n            displayBufferedAmount();\r\n        } else {\r\n            audio.addEventListener('loadedmetadata', () => {\r\n                displayDuration();\r\n                setSliderMax();\r\n                displayBufferedAmount();\r\n            });\r\n        }\r\n\r\n        playIconContainer.addEventListener('click', () => {\r\n            playIconContainer.classList.add(\"kg-audio-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.play();\r\n            requestAnimationFrame(whilePlaying);\r\n        });\r\n\r\n        pauseIconContainer.addEventListener('click', () => {\r\n            pauseIconContainer.classList.add(\"kg-audio-hide\");\r\n            playIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.pause();\r\n            cancelAnimationFrame(raf);\r\n        });\r\n\r\n        muteIconContainer.addEventListener('click', () => {\r\n            muteIconContainer.classList.add(\"kg-audio-hide\");\r\n            unmuteIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.muted = false;\r\n        });\r\n\r\n        unmuteIconContainer.addEventListener('click', () => {\r\n            unmuteIconContainer.classList.add(\"kg-audio-hide\");\r\n            muteIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.muted = true;\r\n        });\r\n\r\n        playbackRateContainer.addEventListener('click', () => {\r\n            let nextPlaybackRate = playbackRates[(currentPlaybackRateIdx + 1) % 5];\r\n            currentPlaybackRateIdx = currentPlaybackRateIdx + 1;\r\n            audio.playbackRate = nextPlaybackRate.rate;\r\n            playbackRateContainer.textContent = nextPlaybackRate.label;\r\n        });\r\n\r\n        audio.addEventListener('progress', displayBufferedAmount);\r\n\r\n        seekSlider.addEventListener('input', (e) => {\r\n            showRangeProgress(e.target);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            if (!audio.paused) {\r\n                cancelAnimationFrame(raf);\r\n            }\r\n        });\r\n\r\n        seekSlider.addEventListener('change', () => {\r\n            audio.currentTime = seekSlider.value;\r\n            if (!audio.paused) {\r\n                requestAnimationFrame(whilePlaying);\r\n            }\r\n        });\r\n\r\n        volumeSlider.addEventListener('input', (e) => {\r\n            const value = e.target.value;\r\n            showRangeProgress(e.target);\r\n            audio.volume = value / 100;\r\n        });\r\n    }\r\n\r\n    const audioCardElements = document.querySelectorAll('.kg-audio-card');\r\n\r\n    for (let i = 0; i < audioCardElements.length; i++) {\r\n        handleAudioPlayer(audioCardElements[i]);\r\n    }\r\n})();","(function() {\r\n    const images = document.querySelectorAll('.kg-gallery-image img');\r\n    images.forEach(function (image) {\r\n        const container = image.closest('.kg-gallery-image');\r\n        const width = image.attributes.width.value;\r\n        const height = image.attributes.height.value;\r\n        const ratio = width / height;\r\n        container.style.flex = ratio + ' 1 0%';\r\n    })\r\n})();","(function() {\r\n    const toggleHeadingElements = document.getElementsByClassName(\"kg-toggle-heading\");\r\n\r\n    const toggleFn = function(event) {\r\n        const targetElement = event.target;\r\n        const parentElement = targetElement.closest('.kg-toggle-card');\r\n        var toggleState = parentElement.getAttribute(\"data-kg-toggle-state\");\r\n        if (toggleState === 'close') {\r\n            parentElement.setAttribute('data-kg-toggle-state', 'open');\r\n        } else {\r\n            parentElement.setAttribute('data-kg-toggle-state', 'close');\r\n        }\r\n    };\r\n\r\n    for (let i = 0; i < toggleHeadingElements.length; i++) {\r\n        toggleHeadingElements[i].addEventListener('click', toggleFn, false);\r\n    }\r\n})();","(function() {\r\n    const handleVideoPlayer = function (videoElementContainer) {\r\n        const videoPlayer = videoElementContainer.querySelector('.kg-video-player');\r\n        const videoPlayerContainer = videoElementContainer.querySelector('.kg-video-player-container');\r\n        const playIconContainer = videoElementContainer.querySelector('.kg-video-play-icon');\r\n        const pauseIconContainer = videoElementContainer.querySelector('.kg-video-pause-icon');\r\n        const seekSlider = videoElementContainer.querySelector('.kg-video-seek-slider');\r\n        const playbackRateContainer = videoElementContainer.querySelector('.kg-video-playback-rate');\r\n        const muteIconContainer = videoElementContainer.querySelector('.kg-video-mute-icon');\r\n        const unmuteIconContainer = videoElementContainer.querySelector('.kg-video-unmute-icon');\r\n        const volumeSlider = videoElementContainer.querySelector('.kg-video-volume-slider');\r\n        const videoEl = videoElementContainer.querySelector('video');\r\n        const durationContainer = videoElementContainer.querySelector('.kg-video-duration');\r\n        const currentTimeContainer = videoElementContainer.querySelector('.kg-video-current-time');\r\n        const largePlayIcon = videoElementContainer.querySelector('.kg-video-large-play-icon');\r\n        const videoOverlay = videoElementContainer.querySelector('.kg-video-overlay');\r\n        let playbackRates = [{\r\n            rate: 0.75,\r\n            label: '0.7×'\r\n        }, {\r\n            rate: 1.0,\r\n            label: '1×'\r\n        }, {\r\n            rate: 1.25,\r\n            label: '1.2×'\r\n        }, {\r\n            rate: 1.75,\r\n            label: '1.7×'\r\n        }, {\r\n            rate: 2.0,\r\n            label: '2×'\r\n        }];\r\n\r\n        let raf = null;\r\n        let currentPlaybackRateIdx = 1;\r\n        if (!!videoEl.loop) {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n        }\r\n        const whilePlaying = () => {\r\n            seekSlider.value = Math.floor(videoEl.currentTime);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            videoPlayer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const showRangeProgress = (rangeInput) => {\r\n            if (rangeInput === seekSlider) {\r\n                videoPlayer.style.setProperty('--seek-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n            else {\r\n                videoPlayer.style.setProperty('--volume-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n        }\r\n\r\n        const calculateTime = (secs) => {\r\n            const minutes = Math.floor(secs / 60);\r\n            const seconds = Math.floor(secs % 60);\r\n            const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n            return `${minutes}:${returnedSeconds}`;\r\n        }\r\n\r\n        const displayDuration = () => {\r\n            durationContainer.textContent = calculateTime(videoEl.duration);\r\n        }\r\n\r\n        const setSliderMax = () => {\r\n            seekSlider.max = Math.floor(videoEl.duration);\r\n        }\r\n\r\n        const displayBufferedAmount = () => {\r\n            if (videoEl.buffered.length > 0) {\r\n                const bufferedAmount = Math.floor(videoEl.buffered.end(videoEl.buffered.length - 1));\r\n                videoPlayer.style.setProperty('--buffered-width', `${(bufferedAmount / seekSlider.max) * 100}%`);\r\n            }\r\n        }\r\n\r\n        if (videoEl.readyState > 0) {\r\n            displayDuration();\r\n            setSliderMax();\r\n            displayBufferedAmount();\r\n            if (videoEl.autoplay) {\r\n                raf = requestAnimationFrame(whilePlaying);\r\n                playIconContainer.classList.add(\"kg-video-hide\");\r\n                pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n            }\r\n            if (videoEl.muted) {\r\n                unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n                muteIconContainer.classList.remove(\"kg-video-hide\");\r\n            }\r\n        } else {\r\n            videoEl.addEventListener('loadedmetadata', () => {\r\n                displayDuration();\r\n                setSliderMax();\r\n                displayBufferedAmount();\r\n                if (videoEl.autoplay) {\r\n                    raf = requestAnimationFrame(whilePlaying);\r\n                    playIconContainer.classList.add(\"kg-video-hide\");\r\n                    pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n                }\r\n                if (videoEl.muted) {\r\n                    unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n                    muteIconContainer.classList.remove(\"kg-video-hide\");\r\n                }\r\n            });\r\n        }\r\n\r\n        videoElementContainer.onmouseover = () => {\r\n            if (!videoEl.loop) {\r\n                videoPlayerContainer.classList.remove(\"kg-video-hide-animated\");\r\n            }\r\n        }\r\n\r\n        videoElementContainer.onmouseleave = () => {\r\n            const isPlaying = !!(videoEl.currentTime > 0 && !videoEl.paused && !videoEl.ended && videoEl.readyState > 2);\r\n            if (isPlaying) {\r\n                videoPlayerContainer.classList.add(\"kg-video-hide-animated\");\r\n            }\r\n        }\r\n\r\n        videoElementContainer.addEventListener('click', () => {\r\n            if (!videoEl.loop) {\r\n                const isPlaying = !!(videoEl.currentTime > 0 && !videoEl.paused && !videoEl.ended && videoEl.readyState > 2);\r\n                if (isPlaying) {\r\n                    handleOnPause();\r\n                } else {\r\n                    handleOnPlay();\r\n                }\r\n            }\r\n        });\r\n\r\n        videoEl.onplay = () => {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n            playIconContainer.classList.add(\"kg-video-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n        };\r\n\r\n        const handleOnPlay = () => {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n            playIconContainer.classList.add(\"kg-video-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.play();\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const handleOnPause = () => {\r\n            pauseIconContainer.classList.add(\"kg-video-hide\");\r\n            playIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.pause();\r\n            cancelAnimationFrame(raf);\r\n        }\r\n\r\n        largePlayIcon.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPlay();\r\n        });\r\n\r\n        playIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPlay();\r\n        });\r\n\r\n        pauseIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPause();\r\n        });\r\n\r\n        muteIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            muteIconContainer.classList.add(\"kg-video-hide\");\r\n            unmuteIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.muted = false;\r\n        });\r\n\r\n        unmuteIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n            muteIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.muted = true;\r\n        });\r\n\r\n        playbackRateContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            let nextPlaybackRate = playbackRates[(currentPlaybackRateIdx + 1) % 5];\r\n            currentPlaybackRateIdx = currentPlaybackRateIdx + 1;\r\n            videoEl.playbackRate = nextPlaybackRate.rate;\r\n            playbackRateContainer.textContent = nextPlaybackRate.label;\r\n        });\r\n\r\n        videoEl.addEventListener('progress', displayBufferedAmount);\r\n\r\n        seekSlider.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            showRangeProgress(e.target);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            if (!videoEl.paused) {\r\n                cancelAnimationFrame(raf);\r\n            }\r\n        });\r\n\r\n        seekSlider.addEventListener('change', (event) => {\r\n            event.stopPropagation();\r\n            videoEl.currentTime = seekSlider.value;\r\n            if (!videoEl.paused) {\r\n                requestAnimationFrame(whilePlaying);\r\n            }\r\n        });\r\n\r\n        volumeSlider.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        seekSlider.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        volumeSlider.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            const value = e.target.value;\r\n            showRangeProgress(e.target);\r\n            videoEl.volume = value / 100;\r\n        });\r\n    }\r\n\r\n    const videoCardElements = document.querySelectorAll('.kg-video-card');\r\n\r\n    for (let i = 0; i < videoCardElements.length; i++) {\r\n        handleVideoPlayer(videoCardElements[i]);\r\n    }\r\n})();"]}