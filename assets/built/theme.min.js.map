{"version":3,"sources":["embed.js","infinite-scroll.js","lighbox.js","cards/audio.js","cards/gallery.js","cards/toggle.js","cards/video.js"],"names":["frames","document","getElementsByTagName","i","length","getAttribute","includes","closest","classList","add","window","feedElement","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","nextElement","querySelector","onPageLoad","this","status","removeEventListener","onScroll","onResize","response","querySelectorAll","forEach","item","appendChild","importNode","resNextElement","href","documentElement","scrollHeight","onUpdate","xhr","XMLHttpRequest","responseType","addEventListener","open","send","requestTick","requestAnimationFrame","scrollY","innerHeight","passive","setup","bind","qsa","container","width","attributes","value","height","style","flex","galleryContainers","linkElement","createElement","rel","head","loadStyle","src","callback","scriptElement","body","loadScript","sub","dataset","children","lightGallery","selector","audioCardElements","let","audioElementContainer","audioPlayerContainer","playIconContainer","pauseIconContainer","seekSlider","playbackRateContainer","muteIconContainer","unmuteIconContainer","volumeSlider","audio","durationContainer","currentTimeContainer","playbackRates","rate","label","raf","currentPlaybackRateIdx","whilePlaying","Math","floor","currentTime","textContent","calculateTime","setProperty","max","showRangeProgress","rangeInput","minutes","secs","seconds","displayDuration","duration","setSliderMax","displayBufferedAmount","bufferedAmount","buffered","end","readyState","remove","play","pause","cancelAnimationFrame","muted","nextPlaybackRate","playbackRate","e","target","paused","volume","handleAudioPlayer","images","image","toggleHeadingElements","getElementsByClassName","toggleFn","event","targetElement","parentElement","setAttribute","videoCardElements","videoElementContainer","videoPlayer","videoPlayerContainer","videoEl","largePlayIcon","videoOverlay","loop","autoplay","onmouseover","onmouseleave","ended","handleOnPause","handleOnPlay","onplay","stopPropagation","handleVideoPlayer"],"mappings":"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","file":"theme.min.js","sourcesContent":["var i, frames;\r\nframes = document.getElementsByTagName(\"iframe\");\r\nfor (i = 0; i < frames.length; ++i) {\r\n    if (frames[i].getAttribute(\"src\").includes('youtu')) {\r\n        frames[i].closest('.kg-embed-card').classList.add('kg-embed-youtube-card');\r\n    }\r\n}","/* eslint-env browser */\r\n\r\n/**\r\n * Infinite Scroll\r\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\r\n *\r\n * When the page is scrolled to 300px from the bottom, the next page of posts\r\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\r\n * by {{ghost_head}}.\r\n *\r\n * The individual post items are extracted from the fetched pages by looking for\r\n * a wrapper element with the class \"post-card\". Any found elements are appended\r\n * to the element with the class \"post-feed\" in the currently viewed page.\r\n */\r\n\r\n (function (window, document) {\r\n    // next link element\r\n    var nextElement = document.querySelector('link[rel=next]');\r\n    if (!nextElement) {\r\n        return;\r\n    }\r\n\r\n    // post feed element\r\n    var feedElement = document.querySelector('.article-list__wrapper');\r\n    if (!feedElement) {\r\n        return;\r\n    }\r\n\r\n    var buffer = 300;\r\n\r\n    var ticking = false;\r\n    var loading = false;\r\n\r\n    var lastScrollY = window.scrollY;\r\n    var lastWindowHeight = window.innerHeight;\r\n    var lastDocumentHeight = document.documentElement.scrollHeight;\r\n\r\n    function onPageLoad() {\r\n        if (this.status === 404) {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n            return;\r\n        }\r\n\r\n        // append contents\r\n        var postElements = this.response.querySelectorAll('article.post-card');\r\n        postElements.forEach(function (item) {\r\n            // document.importNode is important, without it the item's owner\r\n            // document will be different which can break resizing of\r\n            // `object-fit: cover` images in Safari\r\n            feedElement.appendChild(document.importNode(item, true));\r\n        });\r\n\r\n        // set next link\r\n        var resNextElement = this.response.querySelector('link[rel=next]');\r\n        if (resNextElement) {\r\n            nextElement.href = resNextElement.href;\r\n        } else {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n        }\r\n\r\n        // sync status\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        ticking = false;\r\n        loading = false;\r\n    }\r\n\r\n    function onUpdate() {\r\n        // return if already loading\r\n        if (loading) {\r\n            return;\r\n        }\r\n\r\n        // return if not scroll to the bottom\r\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\r\n            ticking = false;\r\n            return;\r\n        }\r\n\r\n        loading = true;\r\n\r\n        var xhr = new window.XMLHttpRequest();\r\n        xhr.responseType = 'document';\r\n\r\n        xhr.addEventListener('load', onPageLoad);\r\n\r\n        xhr.open('GET', nextElement.href);\r\n        xhr.send(null);\r\n    }\r\n\r\n    function requestTick() {\r\n        ticking || window.requestAnimationFrame(onUpdate);\r\n        ticking = true;\r\n    }\r\n\r\n    function onScroll() {\r\n        lastScrollY = window.scrollY;\r\n        requestTick();\r\n    }\r\n\r\n    function onResize() {\r\n        lastWindowHeight = window.innerHeight;\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        requestTick();\r\n    }\r\n\r\n    window.addEventListener('scroll', onScroll, {passive: true});\r\n    window.addEventListener('resize', onResize);\r\n\r\n    requestTick();\r\n})(window, document);","const setup = () => {\r\n    const qs = document.querySelector.bind(document)\r\n    const qsa = document.querySelectorAll.bind(document)\r\n\r\n    function loadStyle (href) {\r\n        const linkElement = document.createElement('link')\r\n        linkElement.rel = 'stylesheet'\r\n        linkElement.href = href\r\n        document.head.appendChild(linkElement)\r\n    }\r\n    \r\n    function loadScript (src, callback) {\r\n        const scriptElement = document.createElement('script')\r\n        scriptElement.src = src\r\n        callback && scriptElement.addEventListener('load', callback)\r\n        document.body.appendChild(scriptElement)\r\n    }\r\n\r\n    qsa('.kg-gallery-image > img').forEach(item => {\r\n        const container = item.closest('.kg-gallery-image')\r\n        const width = item.attributes.width.value\r\n        const height = item.attributes.height.value\r\n        const ratio = width / height\r\n        container.style.flex = ratio + ' 1 0%'\r\n    })\r\n\r\n    const galleryContainers = qsa('.article__content')\r\n    if (galleryContainers.length) {\r\n        loadStyle('https://unpkg.com/lightgallery.js/dist/css/lightgallery.min.css')\r\n        loadScript('https://unpkg.com/lightgallery.js/dist/js/lightgallery.js', () => {\r\n            galleryContainers.forEach(item => {\r\n                item.querySelectorAll('.kg-gallery-image').forEach(sub => {\r\n                    sub.dataset.src = sub.children[0].src\r\n                })\r\n                window.lightGallery(item, { selector: '.kg-gallery-image' })\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nwindow.addEventListener('load', setup)","(function() {\r\n    const handleAudioPlayer = function (audioElementContainer) {\r\n        const audioPlayerContainer = audioElementContainer.querySelector('.kg-audio-player-container');\r\n        const playIconContainer = audioElementContainer.querySelector('.kg-audio-play-icon');\r\n        const pauseIconContainer = audioElementContainer.querySelector('.kg-audio-pause-icon');\r\n        const seekSlider = audioElementContainer.querySelector('.kg-audio-seek-slider');\r\n        const playbackRateContainer = audioElementContainer.querySelector('.kg-audio-playback-rate');\r\n        const muteIconContainer = audioElementContainer.querySelector('.kg-audio-mute-icon');\r\n        const unmuteIconContainer = audioElementContainer.querySelector('.kg-audio-unmute-icon');\r\n        const volumeSlider = audioElementContainer.querySelector('.kg-audio-volume-slider');\r\n        const audio = audioElementContainer.querySelector('audio');\r\n        const durationContainer = audioElementContainer.querySelector('.kg-audio-duration');\r\n        const currentTimeContainer = audioElementContainer.querySelector('.kg-audio-current-time');\r\n        let playbackRates = [{\r\n            rate: 0.75,\r\n            label: '0.7×'\r\n        }, {\r\n            rate: 1.0,\r\n            label: '1×'\r\n        }, {\r\n            rate: 1.25,\r\n            label: '1.2×'\r\n        }, {\r\n            rate: 1.75,\r\n            label: '1.7×'\r\n        }, {\r\n            rate: 2.0,\r\n            label: '2×'\r\n        }];\r\n\r\n        let raf = null;\r\n        let currentPlaybackRateIdx = 1;\r\n\r\n        const whilePlaying = () => {\r\n            seekSlider.value = Math.floor(audio.currentTime);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            audioPlayerContainer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const showRangeProgress = (rangeInput) => {\r\n            if (rangeInput === seekSlider) {\r\n                audioPlayerContainer.style.setProperty('--seek-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n            else {\r\n                audioPlayerContainer.style.setProperty('--volume-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n        }\r\n\r\n        const calculateTime = (secs) => {\r\n            const minutes = Math.floor(secs / 60);\r\n            const seconds = Math.floor(secs % 60);\r\n            const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n            return `${minutes}:${returnedSeconds}`;\r\n        }\r\n\r\n        const displayDuration = () => {\r\n            durationContainer.textContent = calculateTime(audio.duration);\r\n        }\r\n\r\n        const setSliderMax = () => {\r\n            seekSlider.max = Math.floor(audio.duration);\r\n        }\r\n\r\n        const displayBufferedAmount = () => {\r\n            if (audio.buffered.length > 0) {\r\n                const bufferedAmount = Math.floor(audio.buffered.end(audio.buffered.length - 1));\r\n                audioPlayerContainer.style.setProperty('--buffered-width', `${(bufferedAmount / seekSlider.max) * 100}%`);\r\n            }\r\n        }\r\n\r\n        if (audio.readyState > 0) {\r\n            displayDuration();\r\n            setSliderMax();\r\n            displayBufferedAmount();\r\n        } else {\r\n            audio.addEventListener('loadedmetadata', () => {\r\n                displayDuration();\r\n                setSliderMax();\r\n                displayBufferedAmount();\r\n            });\r\n        }\r\n\r\n        playIconContainer.addEventListener('click', () => {\r\n            playIconContainer.classList.add(\"kg-audio-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.play();\r\n            requestAnimationFrame(whilePlaying);\r\n        });\r\n\r\n        pauseIconContainer.addEventListener('click', () => {\r\n            pauseIconContainer.classList.add(\"kg-audio-hide\");\r\n            playIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.pause();\r\n            cancelAnimationFrame(raf);\r\n        });\r\n\r\n        muteIconContainer.addEventListener('click', () => {\r\n            muteIconContainer.classList.add(\"kg-audio-hide\");\r\n            unmuteIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.muted = false;\r\n        });\r\n\r\n        unmuteIconContainer.addEventListener('click', () => {\r\n            unmuteIconContainer.classList.add(\"kg-audio-hide\");\r\n            muteIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.muted = true;\r\n        });\r\n\r\n        playbackRateContainer.addEventListener('click', () => {\r\n            let nextPlaybackRate = playbackRates[(currentPlaybackRateIdx + 1) % 5];\r\n            currentPlaybackRateIdx = currentPlaybackRateIdx + 1;\r\n            audio.playbackRate = nextPlaybackRate.rate;\r\n            playbackRateContainer.textContent = nextPlaybackRate.label;\r\n        });\r\n\r\n        audio.addEventListener('progress', displayBufferedAmount);\r\n\r\n        seekSlider.addEventListener('input', (e) => {\r\n            showRangeProgress(e.target);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            if (!audio.paused) {\r\n                cancelAnimationFrame(raf);\r\n            }\r\n        });\r\n\r\n        seekSlider.addEventListener('change', () => {\r\n            audio.currentTime = seekSlider.value;\r\n            if (!audio.paused) {\r\n                requestAnimationFrame(whilePlaying);\r\n            }\r\n        });\r\n\r\n        volumeSlider.addEventListener('input', (e) => {\r\n            const value = e.target.value;\r\n            showRangeProgress(e.target);\r\n            audio.volume = value / 100;\r\n        });\r\n    }\r\n\r\n    const audioCardElements = document.querySelectorAll('.kg-audio-card');\r\n\r\n    for (let i = 0; i < audioCardElements.length; i++) {\r\n        handleAudioPlayer(audioCardElements[i]);\r\n    }\r\n})();","(function() {\r\n    const images = document.querySelectorAll('.kg-gallery-image img');\r\n    images.forEach(function (image) {\r\n        const container = image.closest('.kg-gallery-image');\r\n        const width = image.attributes.width.value;\r\n        const height = image.attributes.height.value;\r\n        const ratio = width / height;\r\n        container.style.flex = ratio + ' 1 0%';\r\n    })\r\n})();","(function() {\r\n    const toggleHeadingElements = document.getElementsByClassName(\"kg-toggle-heading\");\r\n\r\n    const toggleFn = function(event) {\r\n        const targetElement = event.target;\r\n        const parentElement = targetElement.closest('.kg-toggle-card');\r\n        var toggleState = parentElement.getAttribute(\"data-kg-toggle-state\");\r\n        if (toggleState === 'close') {\r\n            parentElement.setAttribute('data-kg-toggle-state', 'open');\r\n        } else {\r\n            parentElement.setAttribute('data-kg-toggle-state', 'close');\r\n        }\r\n    };\r\n\r\n    for (let i = 0; i < toggleHeadingElements.length; i++) {\r\n        toggleHeadingElements[i].addEventListener('click', toggleFn, false);\r\n    }\r\n})();","(function() {\r\n    const handleVideoPlayer = function (videoElementContainer) {\r\n        const videoPlayer = videoElementContainer.querySelector('.kg-video-player');\r\n        const videoPlayerContainer = videoElementContainer.querySelector('.kg-video-player-container');\r\n        const playIconContainer = videoElementContainer.querySelector('.kg-video-play-icon');\r\n        const pauseIconContainer = videoElementContainer.querySelector('.kg-video-pause-icon');\r\n        const seekSlider = videoElementContainer.querySelector('.kg-video-seek-slider');\r\n        const playbackRateContainer = videoElementContainer.querySelector('.kg-video-playback-rate');\r\n        const muteIconContainer = videoElementContainer.querySelector('.kg-video-mute-icon');\r\n        const unmuteIconContainer = videoElementContainer.querySelector('.kg-video-unmute-icon');\r\n        const volumeSlider = videoElementContainer.querySelector('.kg-video-volume-slider');\r\n        const videoEl = videoElementContainer.querySelector('video');\r\n        const durationContainer = videoElementContainer.querySelector('.kg-video-duration');\r\n        const currentTimeContainer = videoElementContainer.querySelector('.kg-video-current-time');\r\n        const largePlayIcon = videoElementContainer.querySelector('.kg-video-large-play-icon');\r\n        const videoOverlay = videoElementContainer.querySelector('.kg-video-overlay');\r\n        let playbackRates = [{\r\n            rate: 0.75,\r\n            label: '0.7×'\r\n        }, {\r\n            rate: 1.0,\r\n            label: '1×'\r\n        }, {\r\n            rate: 1.25,\r\n            label: '1.2×'\r\n        }, {\r\n            rate: 1.75,\r\n            label: '1.7×'\r\n        }, {\r\n            rate: 2.0,\r\n            label: '2×'\r\n        }];\r\n\r\n        let raf = null;\r\n        let currentPlaybackRateIdx = 1;\r\n        if (!!videoEl.loop) {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n        }\r\n        const whilePlaying = () => {\r\n            seekSlider.value = Math.floor(videoEl.currentTime);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            videoPlayer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const showRangeProgress = (rangeInput) => {\r\n            if (rangeInput === seekSlider) {\r\n                videoPlayer.style.setProperty('--seek-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n            else {\r\n                videoPlayer.style.setProperty('--volume-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n        }\r\n\r\n        const calculateTime = (secs) => {\r\n            const minutes = Math.floor(secs / 60);\r\n            const seconds = Math.floor(secs % 60);\r\n            const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n            return `${minutes}:${returnedSeconds}`;\r\n        }\r\n\r\n        const displayDuration = () => {\r\n            durationContainer.textContent = calculateTime(videoEl.duration);\r\n        }\r\n\r\n        const setSliderMax = () => {\r\n            seekSlider.max = Math.floor(videoEl.duration);\r\n        }\r\n\r\n        const displayBufferedAmount = () => {\r\n            if (videoEl.buffered.length > 0) {\r\n                const bufferedAmount = Math.floor(videoEl.buffered.end(videoEl.buffered.length - 1));\r\n                videoPlayer.style.setProperty('--buffered-width', `${(bufferedAmount / seekSlider.max) * 100}%`);\r\n            }\r\n        }\r\n\r\n        if (videoEl.readyState > 0) {\r\n            displayDuration();\r\n            setSliderMax();\r\n            displayBufferedAmount();\r\n            if (videoEl.autoplay) {\r\n                raf = requestAnimationFrame(whilePlaying);\r\n                playIconContainer.classList.add(\"kg-video-hide\");\r\n                pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n            }\r\n            if (videoEl.muted) {\r\n                unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n                muteIconContainer.classList.remove(\"kg-video-hide\");\r\n            }\r\n        } else {\r\n            videoEl.addEventListener('loadedmetadata', () => {\r\n                displayDuration();\r\n                setSliderMax();\r\n                displayBufferedAmount();\r\n                if (videoEl.autoplay) {\r\n                    raf = requestAnimationFrame(whilePlaying);\r\n                    playIconContainer.classList.add(\"kg-video-hide\");\r\n                    pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n                }\r\n                if (videoEl.muted) {\r\n                    unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n                    muteIconContainer.classList.remove(\"kg-video-hide\");\r\n                }\r\n            });\r\n        }\r\n\r\n        videoElementContainer.onmouseover = () => {\r\n            if (!videoEl.loop) {\r\n                videoPlayerContainer.classList.remove(\"kg-video-hide-animated\");\r\n            }\r\n        }\r\n\r\n        videoElementContainer.onmouseleave = () => {\r\n            const isPlaying = !!(videoEl.currentTime > 0 && !videoEl.paused && !videoEl.ended && videoEl.readyState > 2);\r\n            if (isPlaying) {\r\n                videoPlayerContainer.classList.add(\"kg-video-hide-animated\");\r\n            }\r\n        }\r\n\r\n        videoElementContainer.addEventListener('click', () => {\r\n            if (!videoEl.loop) {\r\n                const isPlaying = !!(videoEl.currentTime > 0 && !videoEl.paused && !videoEl.ended && videoEl.readyState > 2);\r\n                if (isPlaying) {\r\n                    handleOnPause();\r\n                } else {\r\n                    handleOnPlay();\r\n                }\r\n            }\r\n        });\r\n\r\n        videoEl.onplay = () => {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n            playIconContainer.classList.add(\"kg-video-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n        };\r\n\r\n        const handleOnPlay = () => {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n            playIconContainer.classList.add(\"kg-video-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.play();\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const handleOnPause = () => {\r\n            pauseIconContainer.classList.add(\"kg-video-hide\");\r\n            playIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.pause();\r\n            cancelAnimationFrame(raf);\r\n        }\r\n\r\n        largePlayIcon.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPlay();\r\n        });\r\n\r\n        playIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPlay();\r\n        });\r\n\r\n        pauseIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPause();\r\n        });\r\n\r\n        muteIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            muteIconContainer.classList.add(\"kg-video-hide\");\r\n            unmuteIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.muted = false;\r\n        });\r\n\r\n        unmuteIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n            muteIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.muted = true;\r\n        });\r\n\r\n        playbackRateContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            let nextPlaybackRate = playbackRates[(currentPlaybackRateIdx + 1) % 5];\r\n            currentPlaybackRateIdx = currentPlaybackRateIdx + 1;\r\n            videoEl.playbackRate = nextPlaybackRate.rate;\r\n            playbackRateContainer.textContent = nextPlaybackRate.label;\r\n        });\r\n\r\n        videoEl.addEventListener('progress', displayBufferedAmount);\r\n\r\n        seekSlider.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            showRangeProgress(e.target);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            if (!videoEl.paused) {\r\n                cancelAnimationFrame(raf);\r\n            }\r\n        });\r\n\r\n        seekSlider.addEventListener('change', (event) => {\r\n            event.stopPropagation();\r\n            videoEl.currentTime = seekSlider.value;\r\n            if (!videoEl.paused) {\r\n                requestAnimationFrame(whilePlaying);\r\n            }\r\n        });\r\n\r\n        volumeSlider.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        seekSlider.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        volumeSlider.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            const value = e.target.value;\r\n            showRangeProgress(e.target);\r\n            videoEl.volume = value / 100;\r\n        });\r\n    }\r\n\r\n    const videoCardElements = document.querySelectorAll('.kg-video-card');\r\n\r\n    for (let i = 0; i < videoCardElements.length; i++) {\r\n        handleVideoPlayer(videoCardElements[i]);\r\n    }\r\n})();"]}