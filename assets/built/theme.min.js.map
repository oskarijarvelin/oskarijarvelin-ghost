{"version":3,"sources":["embed.js","infinite-scroll.js","cards/audio.js","cards/gallery.js","cards/toggle.js","cards/video.js"],"names":["frames","document","getElementsByTagName","i","length","getAttribute","includes","closest","classList","add","window","feedElement","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","nextElement","querySelector","onPageLoad","this","status","removeEventListener","onScroll","onResize","response","querySelectorAll","forEach","item","appendChild","importNode","resNextElement","href","documentElement","scrollHeight","onUpdate","xhr","XMLHttpRequest","responseType","addEventListener","open","send","requestTick","requestAnimationFrame","scrollY","innerHeight","passive","audioCardElements","let","audioElementContainer","audioPlayerContainer","playIconContainer","pauseIconContainer","seekSlider","playbackRateContainer","muteIconContainer","unmuteIconContainer","volumeSlider","audio","durationContainer","currentTimeContainer","playbackRates","rate","label","raf","currentPlaybackRateIdx","whilePlaying","value","Math","floor","currentTime","textContent","calculateTime","style","setProperty","max","showRangeProgress","rangeInput","minutes","secs","seconds","displayDuration","duration","setSliderMax","displayBufferedAmount","bufferedAmount","buffered","end","readyState","remove","play","pause","cancelAnimationFrame","muted","nextPlaybackRate","playbackRate","e","target","paused","volume","handleAudioPlayer","images","image","container","width","attributes","height","flex","toggleHeadingElements","getElementsByClassName","toggleFn","event","targetElement","parentElement","setAttribute","videoCardElements","videoElementContainer","videoPlayer","videoPlayerContainer","videoEl","largePlayIcon","videoOverlay","loop","autoplay","onmouseover","onmouseleave","ended","handleOnPause","handleOnPlay","onplay","stopPropagation","handleVideoPlayer"],"mappings":"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","file":"theme.min.js","sourcesContent":["var i, frames;\r\nframes = document.getElementsByTagName(\"iframe\");\r\nfor (i = 0; i < frames.length; ++i) {\r\n    if (frames[i].getAttribute(\"src\").includes('youtu')) {\r\n        frames[i].closest('.kg-embed-card').classList.add('kg-embed-youtube-card');\r\n    }\r\n}","/* eslint-env browser */\r\n\r\n/**\r\n * Infinite Scroll\r\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\r\n *\r\n * When the page is scrolled to 300px from the bottom, the next page of posts\r\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\r\n * by {{ghost_head}}.\r\n *\r\n * The individual post items are extracted from the fetched pages by looking for\r\n * a wrapper element with the class \"post-card\". Any found elements are appended\r\n * to the element with the class \"post-feed\" in the currently viewed page.\r\n */\r\n\r\n (function (window, document) {\r\n    // next link element\r\n    var nextElement = document.querySelector('link[rel=next]');\r\n    if (!nextElement) {\r\n        return;\r\n    }\r\n\r\n    // post feed element\r\n    var feedElement = document.querySelector('.article-list__wrapper');\r\n    if (!feedElement) {\r\n        return;\r\n    }\r\n\r\n    var buffer = 300;\r\n\r\n    var ticking = false;\r\n    var loading = false;\r\n\r\n    var lastScrollY = window.scrollY;\r\n    var lastWindowHeight = window.innerHeight;\r\n    var lastDocumentHeight = document.documentElement.scrollHeight;\r\n\r\n    function onPageLoad() {\r\n        if (this.status === 404) {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n            return;\r\n        }\r\n\r\n        // append contents\r\n        var postElements = this.response.querySelectorAll('article.post-card');\r\n        postElements.forEach(function (item) {\r\n            // document.importNode is important, without it the item's owner\r\n            // document will be different which can break resizing of\r\n            // `object-fit: cover` images in Safari\r\n            feedElement.appendChild(document.importNode(item, true));\r\n        });\r\n\r\n        // set next link\r\n        var resNextElement = this.response.querySelector('link[rel=next]');\r\n        if (resNextElement) {\r\n            nextElement.href = resNextElement.href;\r\n        } else {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n        }\r\n\r\n        // sync status\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        ticking = false;\r\n        loading = false;\r\n    }\r\n\r\n    function onUpdate() {\r\n        // return if already loading\r\n        if (loading) {\r\n            return;\r\n        }\r\n\r\n        // return if not scroll to the bottom\r\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\r\n            ticking = false;\r\n            return;\r\n        }\r\n\r\n        loading = true;\r\n\r\n        var xhr = new window.XMLHttpRequest();\r\n        xhr.responseType = 'document';\r\n\r\n        xhr.addEventListener('load', onPageLoad);\r\n\r\n        xhr.open('GET', nextElement.href);\r\n        xhr.send(null);\r\n    }\r\n\r\n    function requestTick() {\r\n        ticking || window.requestAnimationFrame(onUpdate);\r\n        ticking = true;\r\n    }\r\n\r\n    function onScroll() {\r\n        lastScrollY = window.scrollY;\r\n        requestTick();\r\n    }\r\n\r\n    function onResize() {\r\n        lastWindowHeight = window.innerHeight;\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        requestTick();\r\n    }\r\n\r\n    window.addEventListener('scroll', onScroll, {passive: true});\r\n    window.addEventListener('resize', onResize);\r\n\r\n    requestTick();\r\n})(window, document);","(function() {\r\n    const handleAudioPlayer = function (audioElementContainer) {\r\n        const audioPlayerContainer = audioElementContainer.querySelector('.kg-audio-player-container');\r\n        const playIconContainer = audioElementContainer.querySelector('.kg-audio-play-icon');\r\n        const pauseIconContainer = audioElementContainer.querySelector('.kg-audio-pause-icon');\r\n        const seekSlider = audioElementContainer.querySelector('.kg-audio-seek-slider');\r\n        const playbackRateContainer = audioElementContainer.querySelector('.kg-audio-playback-rate');\r\n        const muteIconContainer = audioElementContainer.querySelector('.kg-audio-mute-icon');\r\n        const unmuteIconContainer = audioElementContainer.querySelector('.kg-audio-unmute-icon');\r\n        const volumeSlider = audioElementContainer.querySelector('.kg-audio-volume-slider');\r\n        const audio = audioElementContainer.querySelector('audio');\r\n        const durationContainer = audioElementContainer.querySelector('.kg-audio-duration');\r\n        const currentTimeContainer = audioElementContainer.querySelector('.kg-audio-current-time');\r\n        let playbackRates = [{\r\n            rate: 0.75,\r\n            label: '0.7×'\r\n        }, {\r\n            rate: 1.0,\r\n            label: '1×'\r\n        }, {\r\n            rate: 1.25,\r\n            label: '1.2×'\r\n        }, {\r\n            rate: 1.75,\r\n            label: '1.7×'\r\n        }, {\r\n            rate: 2.0,\r\n            label: '2×'\r\n        }];\r\n\r\n        let raf = null;\r\n        let currentPlaybackRateIdx = 1;\r\n\r\n        const whilePlaying = () => {\r\n            seekSlider.value = Math.floor(audio.currentTime);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            audioPlayerContainer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const showRangeProgress = (rangeInput) => {\r\n            if (rangeInput === seekSlider) {\r\n                audioPlayerContainer.style.setProperty('--seek-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n            else {\r\n                audioPlayerContainer.style.setProperty('--volume-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n        }\r\n\r\n        const calculateTime = (secs) => {\r\n            const minutes = Math.floor(secs / 60);\r\n            const seconds = Math.floor(secs % 60);\r\n            const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n            return `${minutes}:${returnedSeconds}`;\r\n        }\r\n\r\n        const displayDuration = () => {\r\n            durationContainer.textContent = calculateTime(audio.duration);\r\n        }\r\n\r\n        const setSliderMax = () => {\r\n            seekSlider.max = Math.floor(audio.duration);\r\n        }\r\n\r\n        const displayBufferedAmount = () => {\r\n            if (audio.buffered.length > 0) {\r\n                const bufferedAmount = Math.floor(audio.buffered.end(audio.buffered.length - 1));\r\n                audioPlayerContainer.style.setProperty('--buffered-width', `${(bufferedAmount / seekSlider.max) * 100}%`);\r\n            }\r\n        }\r\n\r\n        if (audio.readyState > 0) {\r\n            displayDuration();\r\n            setSliderMax();\r\n            displayBufferedAmount();\r\n        } else {\r\n            audio.addEventListener('loadedmetadata', () => {\r\n                displayDuration();\r\n                setSliderMax();\r\n                displayBufferedAmount();\r\n            });\r\n        }\r\n\r\n        playIconContainer.addEventListener('click', () => {\r\n            playIconContainer.classList.add(\"kg-audio-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.play();\r\n            requestAnimationFrame(whilePlaying);\r\n        });\r\n\r\n        pauseIconContainer.addEventListener('click', () => {\r\n            pauseIconContainer.classList.add(\"kg-audio-hide\");\r\n            playIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.pause();\r\n            cancelAnimationFrame(raf);\r\n        });\r\n\r\n        muteIconContainer.addEventListener('click', () => {\r\n            muteIconContainer.classList.add(\"kg-audio-hide\");\r\n            unmuteIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.muted = false;\r\n        });\r\n\r\n        unmuteIconContainer.addEventListener('click', () => {\r\n            unmuteIconContainer.classList.add(\"kg-audio-hide\");\r\n            muteIconContainer.classList.remove(\"kg-audio-hide\");\r\n            audio.muted = true;\r\n        });\r\n\r\n        playbackRateContainer.addEventListener('click', () => {\r\n            let nextPlaybackRate = playbackRates[(currentPlaybackRateIdx + 1) % 5];\r\n            currentPlaybackRateIdx = currentPlaybackRateIdx + 1;\r\n            audio.playbackRate = nextPlaybackRate.rate;\r\n            playbackRateContainer.textContent = nextPlaybackRate.label;\r\n        });\r\n\r\n        audio.addEventListener('progress', displayBufferedAmount);\r\n\r\n        seekSlider.addEventListener('input', (e) => {\r\n            showRangeProgress(e.target);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            if (!audio.paused) {\r\n                cancelAnimationFrame(raf);\r\n            }\r\n        });\r\n\r\n        seekSlider.addEventListener('change', () => {\r\n            audio.currentTime = seekSlider.value;\r\n            if (!audio.paused) {\r\n                requestAnimationFrame(whilePlaying);\r\n            }\r\n        });\r\n\r\n        volumeSlider.addEventListener('input', (e) => {\r\n            const value = e.target.value;\r\n            showRangeProgress(e.target);\r\n            audio.volume = value / 100;\r\n        });\r\n    }\r\n\r\n    const audioCardElements = document.querySelectorAll('.kg-audio-card');\r\n\r\n    for (let i = 0; i < audioCardElements.length; i++) {\r\n        handleAudioPlayer(audioCardElements[i]);\r\n    }\r\n})();","(function() {\r\n    const images = document.querySelectorAll('.kg-gallery-image img');\r\n    images.forEach(function (image) {\r\n        const container = image.closest('.kg-gallery-image');\r\n        const width = image.attributes.width.value;\r\n        const height = image.attributes.height.value;\r\n        const ratio = width / height;\r\n        container.style.flex = ratio + ' 1 0%';\r\n    })\r\n})();","(function() {\r\n    const toggleHeadingElements = document.getElementsByClassName(\"kg-toggle-heading\");\r\n\r\n    const toggleFn = function(event) {\r\n        const targetElement = event.target;\r\n        const parentElement = targetElement.closest('.kg-toggle-card');\r\n        var toggleState = parentElement.getAttribute(\"data-kg-toggle-state\");\r\n        if (toggleState === 'close') {\r\n            parentElement.setAttribute('data-kg-toggle-state', 'open');\r\n        } else {\r\n            parentElement.setAttribute('data-kg-toggle-state', 'close');\r\n        }\r\n    };\r\n\r\n    for (let i = 0; i < toggleHeadingElements.length; i++) {\r\n        toggleHeadingElements[i].addEventListener('click', toggleFn, false);\r\n    }\r\n})();","(function() {\r\n    const handleVideoPlayer = function (videoElementContainer) {\r\n        const videoPlayer = videoElementContainer.querySelector('.kg-video-player');\r\n        const videoPlayerContainer = videoElementContainer.querySelector('.kg-video-player-container');\r\n        const playIconContainer = videoElementContainer.querySelector('.kg-video-play-icon');\r\n        const pauseIconContainer = videoElementContainer.querySelector('.kg-video-pause-icon');\r\n        const seekSlider = videoElementContainer.querySelector('.kg-video-seek-slider');\r\n        const playbackRateContainer = videoElementContainer.querySelector('.kg-video-playback-rate');\r\n        const muteIconContainer = videoElementContainer.querySelector('.kg-video-mute-icon');\r\n        const unmuteIconContainer = videoElementContainer.querySelector('.kg-video-unmute-icon');\r\n        const volumeSlider = videoElementContainer.querySelector('.kg-video-volume-slider');\r\n        const videoEl = videoElementContainer.querySelector('video');\r\n        const durationContainer = videoElementContainer.querySelector('.kg-video-duration');\r\n        const currentTimeContainer = videoElementContainer.querySelector('.kg-video-current-time');\r\n        const largePlayIcon = videoElementContainer.querySelector('.kg-video-large-play-icon');\r\n        const videoOverlay = videoElementContainer.querySelector('.kg-video-overlay');\r\n        let playbackRates = [{\r\n            rate: 0.75,\r\n            label: '0.7×'\r\n        }, {\r\n            rate: 1.0,\r\n            label: '1×'\r\n        }, {\r\n            rate: 1.25,\r\n            label: '1.2×'\r\n        }, {\r\n            rate: 1.75,\r\n            label: '1.7×'\r\n        }, {\r\n            rate: 2.0,\r\n            label: '2×'\r\n        }];\r\n\r\n        let raf = null;\r\n        let currentPlaybackRateIdx = 1;\r\n        if (!!videoEl.loop) {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n        }\r\n        const whilePlaying = () => {\r\n            seekSlider.value = Math.floor(videoEl.currentTime);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            videoPlayer.style.setProperty('--seek-before-width', `${seekSlider.value / seekSlider.max * 100}%`);\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const showRangeProgress = (rangeInput) => {\r\n            if (rangeInput === seekSlider) {\r\n                videoPlayer.style.setProperty('--seek-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n            else {\r\n                videoPlayer.style.setProperty('--volume-before-width', rangeInput.value / rangeInput.max * 100 + '%');\r\n            }\r\n        }\r\n\r\n        const calculateTime = (secs) => {\r\n            const minutes = Math.floor(secs / 60);\r\n            const seconds = Math.floor(secs % 60);\r\n            const returnedSeconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n            return `${minutes}:${returnedSeconds}`;\r\n        }\r\n\r\n        const displayDuration = () => {\r\n            durationContainer.textContent = calculateTime(videoEl.duration);\r\n        }\r\n\r\n        const setSliderMax = () => {\r\n            seekSlider.max = Math.floor(videoEl.duration);\r\n        }\r\n\r\n        const displayBufferedAmount = () => {\r\n            if (videoEl.buffered.length > 0) {\r\n                const bufferedAmount = Math.floor(videoEl.buffered.end(videoEl.buffered.length - 1));\r\n                videoPlayer.style.setProperty('--buffered-width', `${(bufferedAmount / seekSlider.max) * 100}%`);\r\n            }\r\n        }\r\n\r\n        if (videoEl.readyState > 0) {\r\n            displayDuration();\r\n            setSliderMax();\r\n            displayBufferedAmount();\r\n            if (videoEl.autoplay) {\r\n                raf = requestAnimationFrame(whilePlaying);\r\n                playIconContainer.classList.add(\"kg-video-hide\");\r\n                pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n            }\r\n            if (videoEl.muted) {\r\n                unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n                muteIconContainer.classList.remove(\"kg-video-hide\");\r\n            }\r\n        } else {\r\n            videoEl.addEventListener('loadedmetadata', () => {\r\n                displayDuration();\r\n                setSliderMax();\r\n                displayBufferedAmount();\r\n                if (videoEl.autoplay) {\r\n                    raf = requestAnimationFrame(whilePlaying);\r\n                    playIconContainer.classList.add(\"kg-video-hide\");\r\n                    pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n                }\r\n                if (videoEl.muted) {\r\n                    unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n                    muteIconContainer.classList.remove(\"kg-video-hide\");\r\n                }\r\n            });\r\n        }\r\n\r\n        videoElementContainer.onmouseover = () => {\r\n            if (!videoEl.loop) {\r\n                videoPlayerContainer.classList.remove(\"kg-video-hide-animated\");\r\n            }\r\n        }\r\n\r\n        videoElementContainer.onmouseleave = () => {\r\n            const isPlaying = !!(videoEl.currentTime > 0 && !videoEl.paused && !videoEl.ended && videoEl.readyState > 2);\r\n            if (isPlaying) {\r\n                videoPlayerContainer.classList.add(\"kg-video-hide-animated\");\r\n            }\r\n        }\r\n\r\n        videoElementContainer.addEventListener('click', () => {\r\n            if (!videoEl.loop) {\r\n                const isPlaying = !!(videoEl.currentTime > 0 && !videoEl.paused && !videoEl.ended && videoEl.readyState > 2);\r\n                if (isPlaying) {\r\n                    handleOnPause();\r\n                } else {\r\n                    handleOnPlay();\r\n                }\r\n            }\r\n        });\r\n\r\n        videoEl.onplay = () => {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n            playIconContainer.classList.add(\"kg-video-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n        };\r\n\r\n        const handleOnPlay = () => {\r\n            largePlayIcon.classList.add(\"kg-video-hide-animated\");\r\n            videoOverlay.classList.add(\"kg-video-hide-animated\");\r\n            playIconContainer.classList.add(\"kg-video-hide\");\r\n            pauseIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.play();\r\n            raf = requestAnimationFrame(whilePlaying);\r\n        }\r\n\r\n        const handleOnPause = () => {\r\n            pauseIconContainer.classList.add(\"kg-video-hide\");\r\n            playIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.pause();\r\n            cancelAnimationFrame(raf);\r\n        }\r\n\r\n        largePlayIcon.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPlay();\r\n        });\r\n\r\n        playIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPlay();\r\n        });\r\n\r\n        pauseIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            handleOnPause();\r\n        });\r\n\r\n        muteIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            muteIconContainer.classList.add(\"kg-video-hide\");\r\n            unmuteIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.muted = false;\r\n        });\r\n\r\n        unmuteIconContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            unmuteIconContainer.classList.add(\"kg-video-hide\");\r\n            muteIconContainer.classList.remove(\"kg-video-hide\");\r\n            videoEl.muted = true;\r\n        });\r\n\r\n        playbackRateContainer.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n            let nextPlaybackRate = playbackRates[(currentPlaybackRateIdx + 1) % 5];\r\n            currentPlaybackRateIdx = currentPlaybackRateIdx + 1;\r\n            videoEl.playbackRate = nextPlaybackRate.rate;\r\n            playbackRateContainer.textContent = nextPlaybackRate.label;\r\n        });\r\n\r\n        videoEl.addEventListener('progress', displayBufferedAmount);\r\n\r\n        seekSlider.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            showRangeProgress(e.target);\r\n            currentTimeContainer.textContent = calculateTime(seekSlider.value);\r\n            if (!videoEl.paused) {\r\n                cancelAnimationFrame(raf);\r\n            }\r\n        });\r\n\r\n        seekSlider.addEventListener('change', (event) => {\r\n            event.stopPropagation();\r\n            videoEl.currentTime = seekSlider.value;\r\n            if (!videoEl.paused) {\r\n                requestAnimationFrame(whilePlaying);\r\n            }\r\n        });\r\n\r\n        volumeSlider.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        seekSlider.addEventListener('click', (event) => {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        volumeSlider.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            const value = e.target.value;\r\n            showRangeProgress(e.target);\r\n            videoEl.volume = value / 100;\r\n        });\r\n    }\r\n\r\n    const videoCardElements = document.querySelectorAll('.kg-video-card');\r\n\r\n    for (let i = 0; i < videoCardElements.length; i++) {\r\n        handleVideoPlayer(videoCardElements[i]);\r\n    }\r\n})();"]}