for(var frames=document.getElementsByTagName("iframe"),i=0;i<frames.length;++i)frames[i].getAttribute("src").includes("youtu")&&frames[i].closest(".kg-embed-card").classList.add("kg-embed-youtube-card");!function(t,a){var r,i,o,d,s,n,l,c=a.querySelector("link[rel=next]");function u(){if(404===this.status)return t.removeEventListener("scroll",g),void t.removeEventListener("resize",m);this.response.querySelectorAll("article.post-card").forEach(function(e){r.appendChild(a.importNode(e,!0))});var e=this.response.querySelector("link[rel=next]");e?c.href=e.href:(t.removeEventListener("scroll",g),t.removeEventListener("resize",m)),l=a.documentElement.scrollHeight,d=o=!1}function e(){var e;d||(s+n<=l-i?o=!1:(d=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",u),e.open("GET",c.href),e.send(null)))}function v(){o||t.requestAnimationFrame(e),o=!0}function g(){s=t.scrollY,v()}function m(){n=t.innerHeight,l=a.documentElement.scrollHeight,v()}!c||(r=a.querySelector(".article-list__wrapper"))&&(d=o=!(i=300),s=t.scrollY,n=t.innerHeight,l=a.documentElement.scrollHeight,t.addEventListener("scroll",g,{passive:!0}),t.addEventListener("resize",m),v())}(window,document),function(){var t=document.querySelectorAll(".kg-audio-card");for(let e=0;e<t.length;e++)!function(e){const t=e.querySelector(".kg-audio-player-container"),a=e.querySelector(".kg-audio-play-icon"),r=e.querySelector(".kg-audio-pause-icon"),i=e.querySelector(".kg-audio-seek-slider"),o=e.querySelector(".kg-audio-playback-rate"),d=e.querySelector(".kg-audio-mute-icon"),s=e.querySelector(".kg-audio-unmute-icon"),n=e.querySelector(".kg-audio-volume-slider"),l=e.querySelector("audio"),c=e.querySelector(".kg-audio-duration"),u=e.querySelector(".kg-audio-current-time");let v=[{rate:.75,label:"0.7×"},{rate:1,label:"1×"},{rate:1.25,label:"1.2×"},{rate:1.75,label:"1.7×"},{rate:2,label:"2×"}],g=null,m=1;const k=()=>{i.value=Math.floor(l.currentTime),u.textContent=p(i.value),t.style.setProperty("--seek-before-width",i.value/i.max*100+"%"),g=requestAnimationFrame(k)},h=e=>{e===i?t.style.setProperty("--seek-before-width",e.value/e.max*100+"%"):t.style.setProperty("--volume-before-width",e.value/e.max*100+"%")},p=e=>{var t=Math.floor(e/60),e=Math.floor(e%60);return t+":"+(e<10?"0"+e:""+e)},y=()=>{c.textContent=p(l.duration)},L=()=>{i.max=Math.floor(l.duration)},f=()=>{var e;0<l.buffered.length&&(e=Math.floor(l.buffered.end(l.buffered.length-1)),t.style.setProperty("--buffered-width",e/i.max*100+"%"))};0<l.readyState?(y(),L(),f()):l.addEventListener("loadedmetadata",()=>{y(),L(),f()}),a.addEventListener("click",()=>{a.classList.add("kg-audio-hide"),r.classList.remove("kg-audio-hide"),l.play(),requestAnimationFrame(k)}),r.addEventListener("click",()=>{r.classList.add("kg-audio-hide"),a.classList.remove("kg-audio-hide"),l.pause(),cancelAnimationFrame(g)}),d.addEventListener("click",()=>{d.classList.add("kg-audio-hide"),s.classList.remove("kg-audio-hide"),l.muted=!1}),s.addEventListener("click",()=>{s.classList.add("kg-audio-hide"),d.classList.remove("kg-audio-hide"),l.muted=!0}),o.addEventListener("click",()=>{var e=v[(m+1)%5];m+=1,l.playbackRate=e.rate,o.textContent=e.label}),l.addEventListener("progress",f),i.addEventListener("input",e=>{h(e.target),u.textContent=p(i.value),l.paused||cancelAnimationFrame(g)}),i.addEventListener("change",()=>{l.currentTime=i.value,l.paused||requestAnimationFrame(k)}),n.addEventListener("input",e=>{var t=e.target.value;h(e.target),l.volume=t/100})}(t[e])}(),function(){const e=document.querySelectorAll(".kg-gallery-image img");e.forEach(function(e){const t=e.closest(".kg-gallery-image");var a=e.attributes.width.value,e=e.attributes.height.value;t.style.flex=a/e+" 1 0%"})}(),function(){const t=document.getElementsByClassName("kg-toggle-heading");function a(e){const t=e.target,a=t.closest(".kg-toggle-card");"close"===a.getAttribute("data-kg-toggle-state")?a.setAttribute("data-kg-toggle-state","open"):a.setAttribute("data-kg-toggle-state","close")}for(let e=0;e<t.length;e++)t[e].addEventListener("click",a,!1)}(),function(){var t=document.querySelectorAll(".kg-video-card");for(let e=0;e<t.length;e++)!function(e){const t=e.querySelector(".kg-video-player"),a=e.querySelector(".kg-video-player-container"),r=e.querySelector(".kg-video-play-icon"),i=e.querySelector(".kg-video-pause-icon"),o=e.querySelector(".kg-video-seek-slider"),d=e.querySelector(".kg-video-playback-rate"),s=e.querySelector(".kg-video-mute-icon"),n=e.querySelector(".kg-video-unmute-icon"),l=e.querySelector(".kg-video-volume-slider"),c=e.querySelector("video"),u=e.querySelector(".kg-video-duration"),v=e.querySelector(".kg-video-current-time"),g=e.querySelector(".kg-video-large-play-icon"),m=e.querySelector(".kg-video-overlay");let k=[{rate:.75,label:"0.7×"},{rate:1,label:"1×"},{rate:1.25,label:"1.2×"},{rate:1.75,label:"1.7×"},{rate:2,label:"2×"}],h=null,p=1;c.loop&&(g.classList.add("kg-video-hide-animated"),m.classList.add("kg-video-hide-animated"));const y=()=>{o.value=Math.floor(c.currentTime),v.textContent=f(o.value),t.style.setProperty("--seek-before-width",o.value/o.max*100+"%"),h=requestAnimationFrame(y)},L=e=>{e===o?t.style.setProperty("--seek-before-width",e.value/e.max*100+"%"):t.style.setProperty("--volume-before-width",e.value/e.max*100+"%")},f=e=>{var t=Math.floor(e/60),e=Math.floor(e%60);return t+":"+(e<10?"0"+e:""+e)},q=()=>{u.textContent=f(c.duration)},E=()=>{o.max=Math.floor(c.duration)},b=()=>{var e;0<c.buffered.length&&(e=Math.floor(c.buffered.end(c.buffered.length-1)),t.style.setProperty("--buffered-width",e/o.max*100+"%"))};0<c.readyState?(q(),E(),b(),c.autoplay&&(h=requestAnimationFrame(y),r.classList.add("kg-video-hide"),i.classList.remove("kg-video-hide")),c.muted&&(n.classList.add("kg-video-hide"),s.classList.remove("kg-video-hide"))):c.addEventListener("loadedmetadata",()=>{q(),E(),b(),c.autoplay&&(h=requestAnimationFrame(y),r.classList.add("kg-video-hide"),i.classList.remove("kg-video-hide")),c.muted&&(n.classList.add("kg-video-hide"),s.classList.remove("kg-video-hide"))}),e.onmouseover=()=>{c.loop||a.classList.remove("kg-video-hide-animated")},e.onmouseleave=()=>{!(0<c.currentTime&&!c.paused&&!c.ended&&2<c.readyState)||a.classList.add("kg-video-hide-animated")},e.addEventListener("click",()=>{c.loop||(!!(0<c.currentTime&&!c.paused&&!c.ended&&2<c.readyState)?x:S)()}),c.onplay=()=>{g.classList.add("kg-video-hide-animated"),m.classList.add("kg-video-hide-animated"),r.classList.add("kg-video-hide"),i.classList.remove("kg-video-hide")};const S=()=>{g.classList.add("kg-video-hide-animated"),m.classList.add("kg-video-hide-animated"),r.classList.add("kg-video-hide"),i.classList.remove("kg-video-hide"),c.play(),h=requestAnimationFrame(y)},x=()=>{i.classList.add("kg-video-hide"),r.classList.remove("kg-video-hide"),c.pause(),cancelAnimationFrame(h)};g.addEventListener("click",e=>{e.stopPropagation(),S()}),r.addEventListener("click",e=>{e.stopPropagation(),S()}),i.addEventListener("click",e=>{e.stopPropagation(),x()}),s.addEventListener("click",e=>{e.stopPropagation(),s.classList.add("kg-video-hide"),n.classList.remove("kg-video-hide"),c.muted=!1}),n.addEventListener("click",e=>{e.stopPropagation(),n.classList.add("kg-video-hide"),s.classList.remove("kg-video-hide"),c.muted=!0}),d.addEventListener("click",e=>{e.stopPropagation();e=k[(p+1)%5];p+=1,c.playbackRate=e.rate,d.textContent=e.label}),c.addEventListener("progress",b),o.addEventListener("input",e=>{e.stopPropagation(),L(e.target),v.textContent=f(o.value),c.paused||cancelAnimationFrame(h)}),o.addEventListener("change",e=>{e.stopPropagation(),c.currentTime=o.value,c.paused||requestAnimationFrame(y)}),l.addEventListener("click",e=>{e.stopPropagation()}),o.addEventListener("click",e=>{e.stopPropagation()}),l.addEventListener("input",e=>{e.stopPropagation();var t=e.target.value;L(e.target),c.volume=t/100})}(t[e])}();
//# sourceMappingURL=theme.min.js.map